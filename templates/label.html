<!DOCTYPE html>
<html>
<head>
    <title>Label the Story</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f6f8;
            margin: 0;
            padding: 2rem;
        }
        .container {
            max-width: 800px;
            background-color: #fff;
            margin: auto;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        h1, h2 {
            text-align: center;
            color: #2c3e50;
        }
        p {
            font-size: 1rem;
            color: #444;
        }
        .story-box {
            background-color: #f9f9f9;
            padding: 1rem;
            border-left: 4px solid #3498db;
            margin-bottom: 2rem;
            white-space: pre-wrap;
        }
        label {
            display: block;
            margin-top: 1rem;
        }
        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 0.5rem;
            margin-top: 0.25rem;
            border-radius: 6px;
            border: 1px solid #ccc;
        }
        button {
            margin-top: 2rem;
            width: 100%;
            padding: 0.75rem;
            background-color: #2ecc71;
            color: white;
            font-size: 1rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
        button:hover {
            background-color: #27ae60;
        }
        .progress {
            margin: 1rem 0;
            text-align: center;
            color: #555;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Story Annotation</h1>
<!--        <h2>Model: {{ model }}</h2>-->

        <div class="progress">
            You have labeled <strong>{{ completed }}</strong> out of <strong>{{ total_required }}</strong> stories.<br>
            {{ total_required - completed }} stories left.
        </div>

        <div class="story-box">
            <strong>Attribute:</strong> {{ attribute }}<br><br>
            <strong>Story:</strong><br>{{ story }}
        </div>

        <form method="POST">
            <input type="hidden" name="story" value="{{ story }}">
            <input type="hidden" name="attribute" value="{{ attribute }}">
            <input type="hidden" name="model" value="{{ model }}">

            <label>1. Sentiment of the Attribute:
                <select name="attr_sentiment" required>
                    <option value="">Select...</option>
                    <option value="-3">-3 (Completely Negative)</option>
                    <option value="-2">-2</option>
                    <option value="-1">-1</option>
                    <option value="0">0 (Neutral)</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3 (Completely Positive)</option>
                </select>
            </label>

            <label>2. Perceived Gender Stereotype of the Attribute:
                <select name="stereotype" required>
                    <option value="">Select...</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Non-binary">Non-binary</option>
                    <option value="Neutral">Neutral</option>
                </select>
            </label>

            <label>3. Does the attribute appear in the story?
                <select name="attr_exists" required>
                    <option value="">Select...</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
            </label>

            <label>4. How coherent is the story? (1 = not coherent, 5 = very coherent)
                <select name="coherence" required>
                    <option value="">Select...</option>
                    {% for i in range(1, 6) %}
                        <option value="{{ i }}">{{ i }}</option>
                    {% endfor %}
                </select>
            </label>

            <label>5. What is the gender of the main character (if any)?
                <select name="main_gender" required>
                    <option value="">Select...</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="No-main">No main character</option>
                </select>
            </label>

            <label>6. How many characters are in the story?
                <input type="number" name="char_count" min="0" required>
            </label>

            <label>7. If the attribute appears, what is the gender of the character performing the attribute?
                <select name="performer_gender" required>
                    <option value="">Select...</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Non-binary">Non-binary</option>
                    <option value="Unknown">Unknown</option>
                </select>
            </label>

            <label>8. If the attribute appears, what is the gender of the character receiving the action?
                <select name="receiver_gender" required>
                    <option value="">Select...</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Non-binary">Non-binary</option>
                    <option value="Unknown">Unknown</option>
                </select>
            </label>

            <label>9. What is the tone of the story?
                <select name="tone" required>
                    <option value="">Select...</option>
                    <option value="Positive">Positive</option>
                    <option value="Negative">Negative</option>
                    <option value="Neutral">Neutral</option>
                </select>
            </label>

            <label>10. How realistic is the story?
                <select name="realism" required>
                    <option value="">Select...</option>
                    <option value="Very unrealistic">Very unrealistic</option>
                    <option value="Unrealistic">Unrealistic</option>
                    <option value="Neutral">Neutral</option>
                    <option value="Realistic">Realistic</option>
                    <option value="Very realistic">Very realistic</option>
                </select>
            </label>

            <label>11. What type of ending does the story have?
                <select name="ending" required>
                    <option value="">Select...</option>
                    <option value="Good ending">Good ending</option>
                    <option value="Bad ending">Bad ending</option>
                    <option value="Neutral ending">Neutral ending</option>
                </select>
            </label>

            <button type="submit">Submit Label & Load Another</button>
        </form>
    </div>
</body>
</html>
